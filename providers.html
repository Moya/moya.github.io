<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Providers  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Providers  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Moya Docs</a> (82% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Moya Reference</a>
        <img id="carat" src="img/carat.png" />
        Providers  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="authentication.html">Authentication</a>
              </li>
              <li class="nav-group-task">
                <a href="communityprojects.html">CommunityProjects</a>
              </li>
              <li class="nav-group-task">
                <a href="endpoints.html">Endpoints</a>
              </li>
              <li class="nav-group-task">
                <a href="plugins.html">Plugins</a>
              </li>
              <li class="nav-group-task">
                <a href="providers.html">Providers</a>
              </li>
              <li class="nav-group-task">
                <a href="readme.html">README</a>
              </li>
              <li class="nav-group-task">
                <a href="reactiveswift.html">ReactiveSwift</a>
              </li>
              <li class="nav-group-task">
                <a href="releasing.html">Releasing</a>
              </li>
              <li class="nav-group-task">
                <a href="rxswift.html">RxSwift</a>
              </li>
              <li class="nav-group-task">
                <a href="targets.html">Targets</a>
              </li>
              <li class="nav-group-task">
                <a href="testing.html">Testing</a>
              </li>
              <li class="nav-group-task">
                <a href="threading.html">Threading</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/CancellableToken.html">CancellableToken</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CredentialsPlugin.html">CredentialsPlugin</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Endpoint.html">Endpoint</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MoyaProvider.html">MoyaProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/NetworkActivityPlugin.html">NetworkActivityPlugin</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/NetworkLoggerPlugin.html">NetworkLoggerPlugin</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/NetworkLoggerPlugin/Configuration.html">– Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Response.html">Response</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/AuthorizationType.html">AuthorizationType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/EndpointSampleResponse.html">EndpointSampleResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/MoyaError.html">MoyaError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/MultiTarget.html">MultiTarget</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/NetworkActivityChangeType.html">NetworkActivityChangeType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/StubBehavior.html">StubBehavior</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Task.html">Task</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ValidationType.html">ValidationType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Method.html">Method</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/URL.html">URL</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:4Moya23convertResponseToResult_7request4data5errors0E0OyAA0C0CAA0A5ErrorOGSo17NSHTTPURLResponseCSg_10Foundation10URLRequestVSgAP4DataVSgs0I0_pSgtF">convertResponseToResult(_:request:data:error:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AccessTokenAuthorizable.html">AccessTokenAuthorizable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Cancellable.html">Cancellable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/MoyaProviderType.html">MoyaProviderType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PluginType.html">PluginType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/RequestType.html">RequestType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TargetType.html">TargetType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AccessTokenPlugin.html">AccessTokenPlugin</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/MultipartFormData.html">MultipartFormData</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/MultipartFormData/FormDataProvider.html">– FormDataProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ProgressResponse.html">ProgressResponse</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya10Completiona">Completion</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya19DownloadDestinationa">DownloadDestination</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya5Imagea">Image</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/ImageType">ImageType</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya9ImageTypea">ImageType</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya12JSONEncodinga">JSONEncoding</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya6Methoda">Method</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya17ParameterEncodinga">ParameterEncoding</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya13ProgressBlocka">ProgressBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya18RequestInterceptora">RequestInterceptor</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya24RequestMultipartFormDataa">RequestMultipartFormData</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya7Sessiona">Session</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:4Moya11URLEncodinga">URLEncoding</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='providers' class='heading'>Providers</h1>

<p>When using Moya, you make all API requests through a <code><a href="Classes/MoyaProvider.html">MoyaProvider</a></code> instance,
passing in a value of your enum that specifies which endpoint you want to call.
After setting up your <a href="Endpoints.md">Endpoint</a>, you&rsquo;re basically all set for
basic usage:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">provider</span> <span class="o">=</span> <span class="kt">MoyaProvider</span><span class="o">&lt;</span><span class="kt">MyService</span><span class="o">&gt;</span><span class="p">()</span>
</code></pre>

<p>After that simple setup, you&rsquo;re off to the races:</p>
<pre class="highlight swift"><code><span class="n">provider</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="o">.</span><span class="n">zen</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
    <span class="c1">// `result` is either .success(response) or .failure(error)</span>
<span class="p">}</span>
</code></pre>

<p>That&rsquo;s it! The <code>request()</code> method returns a <code><a href="Protocols/Cancellable.html">Cancellable</a></code>, which has
only one public function, <code>cancel()</code>, which you can use to cancel the
request. See <a href="Examples">Examples</a> for more information about the <code>Result</code>
type.</p>

<p>Remember, <em>where</em> you put your target and the provider, are completely up
to you. You can check out <a href="https://github.com/artsy/eidolon/blob/master/Kiosk/App/Networking/ArtsyAPI.swift">Artsy&rsquo;s implementation</a>
for an example.</p>

<p>Always remember to retain your providers, as they will get deallocated if you fail to do so. Deallocation will return a <code>-999 &quot;canceled&quot;</code> error on response.</p>

<p>The same reminder applies also to Moya Reactive implementations, but you will not receive any response because the whole Observable will be disposed, releasing any subscription that you may have configured.</p>
<h2 id='advanced-usage' class='heading'>Advanced Usage</h2>

<p>To explain all configuration options you have with a <code><a href="Classes/MoyaProvider.html">MoyaProvider</a></code> we will cover each parameter one by one in the following sections.</p>
<h3 id='endpointclosure' class='heading'>endpointClosure:</h3>

<p>The first (optional) parameter for the <code><a href="Classes/MoyaProvider.html">MoyaProvider</a></code> initializer is an
endpoints closure, which is responsible for mapping a value of your enum to a
concrete <code><a href="Classes/Endpoint.html">Endpoint</a></code> instance. Let&rsquo;s take a look at what one might look like.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">endpointClosure</span> <span class="o">=</span> <span class="p">{</span> <span class="p">(</span><span class="nv">target</span><span class="p">:</span> <span class="kt">MyTarget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Endpoint</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">target</span><span class="p">:</span> <span class="n">target</span><span class="p">)</span><span class="o">.</span><span class="n">absoluteString</span>
    <span class="k">return</span> <span class="kt">Endpoint</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="nv">sampleResponseClosure</span><span class="p">:</span> <span class="p">{</span><span class="o">.</span><span class="nf">networkResponse</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="n">target</span><span class="o">.</span><span class="n">sampleData</span><span class="p">)},</span> <span class="nv">method</span><span class="p">:</span> <span class="n">target</span><span class="o">.</span><span class="n">method</span><span class="p">,</span> <span class="nv">task</span><span class="p">:</span> <span class="n">target</span><span class="o">.</span><span class="n">task</span><span class="p">,</span> <span class="nv">httpHeaderFields</span><span class="p">:</span> <span class="n">target</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">provider</span> <span class="o">=</span> <span class="kt">MoyaProvider</span><span class="p">(</span><span class="nv">endpointClosure</span><span class="p">:</span> <span class="n">endpointClosure</span><span class="p">)</span>
</code></pre>

<p>Notice that we don&rsquo;t have to specify the generic type in the <code><a href="Classes/MoyaProvider.html">MoyaProvider</a></code>
initializer anymore, since Swift will infer it from the type of our
<code>endpointClosure</code>. Neat!</p>

<p>You may also notice the <code>URL(target:)</code> initializer, Moya provides a convenient extension to create a <code>URL</code> from any <code><a href="Protocols/TargetType.html">TargetType</a></code>.</p>

<p>This <code>endpointClosure</code> is about as simple as you can get. It&rsquo;s actually the
default implementation, too, stored in <code>MoyaProvider.defaultEndpointMapping</code>.
Check out the <a href="Endpoints.md">Endpoints</a> documentation for more on <em>why</em> you
might want to customize this.</p>
<h3 id='requestclosure' class='heading'>requestClosure:</h3>

<p>The next optional initializer parameter is <code>requestClosure</code>, which resolves
an <code><a href="Classes/Endpoint.html">Endpoint</a></code> to an actual <code>URLRequest</code>. Again, check out the <a href="Endpoints.md">Endpoints</a>
documentation for how and why you&rsquo;d do this.</p>
<h3 id='stubclosure' class='heading'>stubClosure:</h3>

<p>The next option is to provide a <code>stubClosure</code>. This returns one of either <code>.never</code> (the
default), <code>.immediate</code> or <code>.delayed(seconds)</code>, where you can delay the stubbed
request by a certain number of seconds. For example, <code>.delayed(0.2)</code> would delay
every stubbed request. This can be good for simulating network delays in unit tests.</p>

<p>What&rsquo;s nice is that if you need to stub some requests differently than others,
you can use your own closure.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">provider</span> <span class="o">=</span> <span class="kt">MoyaProvider</span><span class="o">&lt;</span><span class="kt">MyTarget</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">stubClosure</span><span class="p">:</span> <span class="p">{</span> <span class="nv">target</span><span class="p">:</span> <span class="kt">MyTarget</span> <span class="o">-&gt;</span> <span class="kt">Moya</span><span class="o">.</span><span class="kt">StubBehavior</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">target</span> <span class="p">{</span>
        <span class="cm">/* Return something different based on the target. */</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre>

<p>But usually you want the same stubbing behavior for all your targets. There are
three class methods on <code><a href="Classes/MoyaProvider.html">MoyaProvider</a></code> you can use instead.</p>
<pre class="highlight swift"><code><span class="kt">MoyaProvider</span><span class="o">.</span><span class="n">neverStub</span>
<span class="kt">MoyaProvider</span><span class="o">.</span><span class="n">immediatelyStub</span>
<span class="kt">MoyaProvider</span><span class="o">.</span><span class="nf">delayedStub</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span>
</code></pre>

<p>So, in the above example, if you wanted immediate stubbing behavior for all
targets, either of the following would work.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">provider</span> <span class="o">=</span> <span class="kt">MoyaProvider</span><span class="o">&lt;</span><span class="kt">MyTarget</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">stubClosure</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">_</span><span class="p">:</span> <span class="kt">MyTarget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Moya</span><span class="o">.</span><span class="kt">StubBehavior</span> <span class="k">in</span> <span class="k">return</span> <span class="o">.</span><span class="n">immediate</span> <span class="p">})</span>
<span class="k">let</span> <span class="nv">provider</span> <span class="o">=</span> <span class="kt">MoyaProvider</span><span class="o">&lt;</span><span class="kt">MyTarget</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">stubClosure</span><span class="p">:</span> <span class="kt">MoyaProvider</span><span class="o">.</span><span class="n">immediatelyStub</span><span class="p">)</span>
</code></pre>
<h3 id='manager' class='heading'>manager:</h3>

<p>Next, there&rsquo;s the <code>manager</code> parameter. By default you&rsquo;ll get a custom <code>Alamofire.Manager</code> instance with basic configurations.</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kd">func</span> <span class="nf">defaultAlamofireManager</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Manager</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">configuration</span> <span class="o">=</span> <span class="kt">URLSessionConfiguration</span><span class="o">.</span><span class="k">default</span>
    <span class="n">configuration</span><span class="o">.</span><span class="n">httpAdditionalHeaders</span> <span class="o">=</span> <span class="kt">Alamofire</span><span class="o">.</span><span class="kt">Manager</span><span class="o">.</span><span class="n">defaultHTTPHeaders</span>

    <span class="k">let</span> <span class="nv">manager</span> <span class="o">=</span> <span class="kt">Alamofire</span><span class="o">.</span><span class="kt">Manager</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="n">configuration</span><span class="p">)</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">startRequestsImmediately</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="k">return</span> <span class="n">manager</span>
<span class="p">}</span>
</code></pre>

<p>There is only one particular thing: since construct an <code>Alamofire.Request</code> in AF will fire the request immediately by default, even when <q>stubbing</q> the requests for unit testing. Therefore in Moya, <code>startRequestsImmediately</code> is set to <code>false</code> by default.</p>

<p>If you&rsquo;d like to customize your own manager, for example, to add SSL pinning, create one and pass it in,
all requests will route through the custom configured manager.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">policies</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">ServerTrustPolicy</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"example.com"</span><span class="p">:</span> <span class="o">.</span><span class="kt">PinPublicKeys</span><span class="p">(</span>
        <span class="nv">publicKeys</span><span class="p">:</span> <span class="kt">ServerTrustPolicy</span><span class="o">.</span><span class="nf">publicKeysInBundle</span><span class="p">(),</span>
        <span class="nv">validateCertificateChain</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nv">validateHost</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">)</span>
<span class="p">]</span>

<span class="k">let</span> <span class="nv">manager</span> <span class="o">=</span> <span class="kt">Manager</span><span class="p">(</span>
    <span class="nv">configuration</span><span class="p">:</span> <span class="kt">URLSessionConfiguration</span><span class="o">.</span><span class="k">default</span><span class="p">,</span>
    <span class="nv">serverTrustPolicyManager</span><span class="p">:</span> <span class="kt">ServerTrustPolicyManager</span><span class="p">(</span><span class="nv">policies</span><span class="p">:</span> <span class="n">policies</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">let</span> <span class="nv">provider</span> <span class="o">=</span> <span class="kt">MoyaProvider</span><span class="o">&lt;</span><span class="kt">MyTarget</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">manager</span><span class="p">:</span> <span class="n">manager</span><span class="p">)</span>
</code></pre>
<h3 id='plugins' class='heading'>plugins:</h3>

<p>Finally, you may also provide an array of <code>plugins</code> to the provider. These receive callbacks
before a request is sent and after a response is received. There are a few plugins
included already: one for network activity (<code><a href="Classes/NetworkActivityPlugin.html">NetworkActivityPlugin</a></code>), one for logging
all network activity (<code><a href="Classes/NetworkLoggerPlugin.html">NetworkLoggerPlugin</a></code>), and another for <a href="Authentication.md">HTTP Authentication</a>.</p>

<p>For example you can enable the logger plugin by simply passing <code>[NetworkLoggerPlugin()]</code> alongside the <code>plugins</code> parameter of your <code><a href="Classes/Endpoint.html">Endpoint</a></code>. Note that a plugin can also be configurable, for example the already included <code><a href="Classes/NetworkActivityPlugin.html">NetworkActivityPlugin</a></code> requires a <code>networkActivityClosure</code> parameter. The configurable plugin implementation looks like this:</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">NetworkActivityPlugin</span><span class="p">:</span> <span class="kt">PluginType</span> <span class="p">{</span>

    <span class="kd">public</span> <span class="kd">typealias</span> <span class="kt">NetworkActivityClosure</span> <span class="o">=</span> <span class="p">(</span><span class="n">_</span> <span class="nv">change</span><span class="p">:</span> <span class="kt">NetworkActivityChangeType</span><span class="p">,</span> <span class="n">_</span> <span class="nv">target</span><span class="p">:</span> <span class="kt">TargetType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span>
    <span class="k">let</span> <span class="nv">networkActivityClosure</span><span class="p">:</span> <span class="kt">NetworkActivityClosure</span>

    <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">networkActivityClosure</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">NetworkActivityClosure</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">networkActivityClosure</span> <span class="o">=</span> <span class="n">networkActivityClosure</span>
    <span class="p">}</span>

    <span class="c1">// MARK: Plugin</span>

    <span class="c1">/// Called by the provider as soon as the request is about to start</span>
    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">willSend</span><span class="p">(</span><span class="n">_</span> <span class="nv">request</span><span class="p">:</span> <span class="kt">RequestType</span><span class="p">,</span> <span class="nv">target</span><span class="p">:</span> <span class="kt">TargetType</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">networkActivityClosure</span><span class="p">(</span><span class="o">.</span><span class="n">began</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">/// Called by the provider as soon as a response arrives, even if the request is canceled.</span>
    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">didReceive</span><span class="p">(</span><span class="n">_</span> <span class="nv">result</span><span class="p">:</span> <span class="kt">Result</span><span class="o">&lt;</span><span class="kt">Moya</span><span class="o">.</span><span class="kt">Response</span><span class="p">,</span> <span class="kt">MoyaError</span><span class="o">&gt;</span><span class="p">,</span> <span class="nv">target</span><span class="p">:</span> <span class="kt">TargetType</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">networkActivityClosure</span><span class="p">(</span><span class="o">.</span><span class="n">ended</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>The <code>networkActivityClosure</code> is a closure that you can provide to be notified whenever a network request begins or
ends. This is useful for working with the <a href="https://github.com/thoughtbot/BOTNetworkActivityIndicator">network activity indicator</a>.
Note that signature of this closure is <code>(_ change: NetworkActivityChangeType, _ target: TargetType) -&gt; Void</code>,
so you will only be notified when a request has <code>.began</code>/<code>.ended</code> and for which <code>target</code> –
you aren&rsquo;t provided any other details about the request itself.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="https://github.com/Moya/Moya" target="_blank" rel="external">Ash Furrow</a>. All rights reserved. (Last updated: 2020-02-24)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
